# ğŸ  æ™ºèƒ½å®¶å±…æ§åˆ¶ç³»ç»Ÿ (Smart Home Control System)

ä¸€ä¸ªåŸºäº Flask + WebSocket çš„æ™ºèƒ½å®¶å±…æ§åˆ¶é¢æ¿ï¼Œå®æ—¶åŒæ­¥ Home Assistant è®¾å¤‡çŠ¶æ€ã€‚

## ğŸ“ é¡¹ç›®ç»“æ„

```
Appliance/
â”œâ”€â”€ backend/                    # åç«¯ä»£ç 
â”‚   â”œâ”€â”€ app.py                  # Flask ä¸»ç¨‹åº
â”‚   â””â”€â”€ requirements.txt        # Python ä¾èµ–
â”œâ”€â”€ frontend/                   # å‰ç«¯ä»£ç 
â”‚   â”œâ”€â”€ templates/
â”‚   â”‚   â””â”€â”€ index.html          # ä¸»é¡µé¢
â”‚   â””â”€â”€ static/
â”‚       â”œâ”€â”€ css/
â”‚       â”‚   â””â”€â”€ style.css       # æ ·å¼æ–‡ä»¶
â”‚       â””â”€â”€ js/
â”‚           â””â”€â”€ app.js          # å‰ç«¯é€»è¾‘
â””â”€â”€ README.md                   # é¡¹ç›®è¯´æ˜
```

## âœ¨ åŠŸèƒ½ç‰¹æ€§

- ğŸŒ¡ï¸ **ç©ºè°ƒæ§åˆ¶é¢æ¿** - å®æ—¶æ˜¾ç¤ºæ¸©åº¦ã€æ¨¡å¼ï¼ˆåˆ¶å†·/åˆ¶çƒ­/é€é£ï¼‰ã€é£é€Ÿ
- ğŸ’¡ **ç¯å…‰æ§åˆ¶é¢æ¿** - å®æ—¶æ˜¾ç¤ºå¼€å…³çŠ¶æ€
- ğŸ”„ **WebSocket å®æ—¶åŒæ­¥** - è®¾å¤‡çŠ¶æ€å˜åŒ–å³æ—¶æ¨é€
- ğŸ“± **å“åº”å¼è®¾è®¡** - æ”¯æŒæ¡Œé¢å’Œç§»åŠ¨ç«¯
- ğŸ¨ **ç°ä»£ UI** - æš—è‰²ä¸»é¢˜ï¼Œæµç•…åŠ¨ç”»

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

```bash
cd backend
pip install -r requirements.txt
```

### 2. é…ç½® Home Assistant

ä¿®æ”¹ `backend/app.py` ä¸­çš„é…ç½®ï¼š

```python
HOME_ASSISTANT_URL = "http://your-ha-ip:8123"
HOME_ASSISTANT_TOKEN = "your-long-lived-access-token"
```

### 3. å¯åŠ¨æœåŠ¡

```bash
cd backend
python app.py
```

### 4. è®¿é—®é¡µé¢

æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼š`http://localhost:5000`

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### åç«¯
- **Flask** - Web æ¡†æ¶
- **Flask-SocketIO** - WebSocket æ”¯æŒ
- **Flask-CORS** - è·¨åŸŸæ”¯æŒ
- **Requests** - HTTP è¯·æ±‚

### å‰ç«¯
- **HTML5 / CSS3** - é¡µé¢ç»“æ„å’Œæ ·å¼
- **JavaScript (ES6+)** - å‰ç«¯é€»è¾‘
- **Socket.IO Client** - WebSocket å®¢æˆ·ç«¯
- **Font Awesome** - å›¾æ ‡åº“

## ğŸ“¡ API æ¥å£

| æ–¹æ³• | è·¯å¾„ | æè¿° |
|------|------|------|
| GET | `/` | ä¸»é¡µé¢ |
| GET | `/api/devices` | è·å–æ‰€æœ‰è®¾å¤‡çŠ¶æ€ |
| GET | `/api/device/<id>` | è·å–å•ä¸ªè®¾å¤‡çŠ¶æ€ |
| POST | `/api/sync` | æ‰‹åŠ¨è§¦å‘åŒæ­¥ |

## ğŸ”Œ WebSocket äº‹ä»¶

| äº‹ä»¶ | æ–¹å‘ | æè¿° |
|------|------|------|
| `connect` | å®¢æˆ·ç«¯â†’æœåŠ¡ç«¯ | å»ºç«‹è¿æ¥ |
| `initial_state` | æœåŠ¡ç«¯â†’å®¢æˆ·ç«¯ | åˆå§‹è®¾å¤‡çŠ¶æ€ |
| `device_update` | æœåŠ¡ç«¯â†’å®¢æˆ·ç«¯ | è®¾å¤‡çŠ¶æ€æ›´æ–° |
| `request_sync` | å®¢æˆ·ç«¯â†’æœåŠ¡ç«¯ | è¯·æ±‚åŒæ­¥ |

## âŒ¨ï¸ å¿«æ·é”®

- `Alt + S` - æ‰‹åŠ¨åˆ·æ–°æ•°æ®

## ğŸ“ æ³¨æ„äº‹é¡¹

- å½“å‰ä¸º**åªè¯»æ¨¡å¼**ï¼Œä»…ä» Home Assistant è¯»å–çŠ¶æ€
- åå°æ¯ 1 ç§’è‡ªåŠ¨åŒæ­¥ä¸€æ¬¡è®¾å¤‡çŠ¶æ€
- éœ€è¦æœ‰æ•ˆçš„ Home Assistant é•¿æœŸè®¿é—®ä»¤ç‰Œ

## ğŸ“„ License

MIT License
